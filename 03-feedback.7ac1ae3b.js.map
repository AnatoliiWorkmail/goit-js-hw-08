{"version":3,"sources":["js/03-feedback.js"],"names":["formData","inputData","textareaData","KEY","refs","form","document","querySelector","input","textarea","onInput","evt","target","value","onTextareaInput","onInputForm","email","message","localStorage","setItem","JSON","stringify","console","log","updateInput","savedMessage","parse","getItem","onFormSubmit","preventDefault","currentTarget","reset","removeItem","addEventListener"],"mappings":";AAEA,MAAMA,EAAW,GACjB,IAAIC,EACAC,EACJ,MAAMC,EAAM,sBACNC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,wBAC9BE,SAAUH,SAASC,cAAc,4BAQnC,SAASG,EAAQC,GACfV,EAAYU,EAAIC,OAAOC,MAEzB,SAASC,EAAgBH,GACvBT,EAAeS,EAAIC,OAAOC,MAE5B,SAASE,IACHf,IACFA,EAASgB,MAAQf,EACjBD,EAASiB,QAAUf,EACnBgB,aAAaC,QAAQhB,EAAKiB,KAAKC,UAAUrB,IACzCsB,QAAQC,IAAIL,eAIhB,SAASM,IACDC,MAAAA,EAAeL,KAAKM,MAAMR,aAAaS,QAAQxB,IACjDsB,IACFrB,EAAKK,SAASI,MAAQY,EAAaR,QACnCb,EAAKI,MAAMK,MAAQY,EAAaT,MAChCM,QAAQC,IAAIE,IAKhB,SAASG,EAAajB,GACpBA,EAAIkB,iBAEJP,QAAQC,IAAI,oBACZZ,EAAImB,cAAcC,QAClBb,aAAac,WAAW7B,GAnC1BC,EAAKC,KAAK4B,iBAAiB,SAAUL,GACrCxB,EAAKC,KAAK4B,iBAAiB,QAASlB,GACpCX,EAAKI,MAAMyB,iBAAiB,QAASvB,GACrCN,EAAKK,SAASwB,iBAAiB,QAASnB,GAyBxCU","file":"03-feedback.7ac1ae3b.js","sourceRoot":"../src","sourcesContent":["// import throttle from \"lodash.throttle\";\n\nconst formData = {};\nlet inputData;\nlet textareaData;\nconst KEY = \"feedback-form-state\";\nconst refs = {\n  form: document.querySelector(\".feedback-form\"),\n  input: document.querySelector(\".feedback-form input\"),\n  textarea: document.querySelector(\".feedback-form textarea\"),\n};\n\nrefs.form.addEventListener(\"submit\", onFormSubmit);\nrefs.form.addEventListener(\"input\", onInputForm);\nrefs.input.addEventListener(\"input\", onInput);\nrefs.textarea.addEventListener(\"input\", onTextareaInput);\n// ----запись в память------\nfunction onInput(evt) {\n  inputData = evt.target.value;\n}\nfunction onTextareaInput(evt) {\n  textareaData = evt.target.value;\n}\nfunction onInputForm() {\n  if (formData) {\n    formData.email = inputData;\n    formData.message = textareaData;\n    localStorage.setItem(KEY, JSON.stringify(formData));\n    console.log(localStorage);\n  }\n}\n// ----update-input------\nfunction updateInput() {\n  const savedMessage = JSON.parse(localStorage.getItem(KEY));\n  if (savedMessage) {\n    refs.textarea.value = savedMessage.message;\n    refs.input.value = savedMessage.email;\n    console.log(savedMessage);\n  }\n}\nupdateInput();\n// ----submitForm-------------\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  console.log(\"Отправляем форму\");\n  evt.currentTarget.reset();\n  localStorage.removeItem(KEY);\n}\n"]}